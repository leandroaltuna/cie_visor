<?php 


////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// CAP 1
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
$provArray = array(-1 => ' -'); 
$distArray = array(-1 => ' -'); 
$P1_A_2_NroIE = array(
	'name'	=> 'P1_A_2_NroIE',
	'id'	=> 'P1_A_2_NroIE',
	'class' => 'input2',
	'readonly' =>'true',
	'maxlength'	=> 2,
);

$P1_A_2_9_NroCMod = array(
	'name'	=> 'P1_A_2_9_NroCMod',
	'id'	=> 'P1_A_2_9_NroCMod',
	'maxlength'	=> 7,
	'class' => 'input7',	
	'readonly' => true,	
);

$P1_A_2_9A_CMod = array(
	'name'	=> 'P1_A_2_9A_CMod',
	'id'	=> 'P1_A_2_9A_CMod',
	'maxlength'	=> 7,
	'class' => 'input7',
);

$P1_A_2_9B_CodLocal = array(
	'name'	=> 'P1_A_2_9B_CodLocal',
	'id'	=> 'P1_A_2_9B_CodLocal',
	'maxlength'	=> 6,
	'class' => 'input6',
);

$P1_A_2_9C_Nivel = array(
	'name'	=> 'P1_A_2_9C_Nivel',
	'id'	=> 'P1_A_2_9C_Nivel',
	'maxlength'	=> 1,
	'class' => 'input1',
);

$P1_A_2_9D_Car = array(
	'name'	=> 'P1_A_2_9D_Car',
	'id'	=> 'P1_A_2_9D_Car',
	'maxlength'	=> 1,
	'class' => 'input1',
);

$P1_A_2_9E_NroAnex = array(
	'name'	=> 'P1_A_2_9E_NroAnex',
	'id'	=> 'P1_A_2_9E_NroAnex',
	'maxlength'	=> 1,
	'class' => 'input1',
);

$P1_A_2_9F_CantAnex = array(
	'name'	=> 'P1_A_2_9F_CantAnex',
	'id'	=> 'P1_A_2_9F_CantAnex',
	'maxlength'	=> 2,
	'class' => 'input2',
);

$P1_A_2_9G_T1_Talu = array(
	'name'	=> 'P1_A_2_9G_T1_Talu',
	'id'	=> 'P1_A_2_9G_T1_Talu',
	'maxlength'	=> 5,
	'class' => 'input5',
);

$P1_A_2_9H_T1_Taul = array(
	'name'	=> 'P1_A_2_9H_T1_Taul',
	'id'	=> 'P1_A_2_9H_T1_Taul',
	'maxlength'	=> 3,
	'class' => 'input3',
);

$P1_A_2_9I_T2_Talu = array(
	'name'	=> 'P1_A_2_9I_T2_Talu',
	'id'	=> 'P1_A_2_9I_T2_Talu',
	'maxlength'	=> 5,
	'class' => 'input5',
);

$P1_A_2_9J_T2_Taul = array(
	'name'	=> 'P1_A_2_9J_T2_Taul',
	'id'	=> 'P1_A_2_9J_T2_Taul',
	'maxlength'	=> 3,
	'class' => 'input3',
);

$P1_A_2_9K_T3_Talu = array(
	'name'	=> 'P1_A_2_9K_T3_Talu',
	'id'	=> 'P1_A_2_9K_T3_Talu',
	'maxlength'	=> 5,
	'class' => 'input5',
);

$P1_A_2_9L_T3_Taul = array(
	'name'	=> 'P1_A_2_9L_T3_Taul',
	'id'	=> 'P1_A_2_9L_T3_Taul',
	'maxlength'	=> 3,
	'class' => 'input3',
);



$P1_A_2_9_Nro = array(
	'name'	=> 'P1_A_2_9_Nro',
	'id'	=> 'P1_A_2_9_Nro',
	'maxlength'	=> 2,
	'readonly'	=> true,
	'class' => 'input2',

);

$P1_A_2_9_AnexNomb = array(
	'name'	=> 'P1_A_2_9_AnexNomb',
	'id'	=> 'P1_A_2_9_AnexNomb',
	'maxlength'	=> 200,
	'class' => 'input200',	
);

$P1_A_2_1_NomIE = array(
	'name'	=> 'P1_A_2_1_NomIE',
	'id'	=> 'P1_A_2_1_NomIE',
	'maxlength'	=> 200,
	'class' => 'input200',	
);

$P1_A_2_2_Direc = array(
	'name'	=> 'P1_A_2_2_Direc',
	'id'	=> 'P1_A_2_2_Direc',
	'maxlength'	=> 200,
	'class' => 'input200',		
);


$P1_A_2_3_DocTip = array(
	'name'	=> 'P1_A_2_3_DocTip',
	'id'	=> 'P1_A_2_3_DocTip',
	'maxlength'	=> 1,
	'class' => 'input8',	
);

$P1_A_2_3_DocNro = array(
	'name'	=> 'P1_A_2_3_DocNro',
	'id'	=> 'P1_A_2_3_DocNro',
	'maxlength'	=> 10,
	'class' => 'input10',	
);

$P1_A_2_4_TelfIE = array(
	'name'	=> 'P1_A_2_4_TelfIE',
	'id'	=> 'P1_A_2_4_TelfIE',
	'maxlength'	=> 10,
	'class' => 'input10',	
);

$P1_A_2_4_TelfDir = array(
	'name'	=> 'P1_A_2_4_TelfDir',
	'id'	=> 'P1_A_2_4_TelfDir',
	'maxlength'	=> 10,
	'class' => 'input10',	
);

$P1_A_2_5_EmailIE = array(
	'name'	=> 'P1_A_2_5_EmailIE',
	'id'	=> 'P1_A_2_5_EmailIE',
	'maxlength'	=> 200,
	'class' => 'input200',	
);

$P1_A_2_5_EmailDir = array(
	'name'	=> 'P1_A_2_5_EmailDir',
	'id'	=> 'P1_A_2_5_EmailDir',
	'maxlength'	=> 200,
	'class' => 'input200',	
);

$P1_A_2_6_Informant = array(
	'name'	=> 'P1_A_2_6_Informant',
	'id'	=> 'P1_A_2_6_Informant',
	'maxlength'	=> 200,
	'class' => 'input200',	
);

$P1_A_2_7_InformantCarg = array(
	'name'	=> 'P1_A_2_7_InformantCarg',
	'id'	=> 'P1_A_2_7_InformantCarg',
	'maxlength'	=> 200,
	'class' => 'input200',	
);

$P1_A_2_8_Can_CMod_IE = array(
	'name'	=> 'P1_A_2_8_Can_CMod_IE',
	'id'	=> 'P1_A_2_8_Can_CMod_IE',
	'maxlength'	=> 2,
	'class' => 'input2',	
);

$P1_A_2_Obs = array(
	'name'	=> 'P1_A_2_Obs',
	'id'	=> 'P1_A_2_Obs',
	'class' => 'textarea98p',	
	'rows' => 2,	

);

$P1_A_1_Cant_IE = array(
	'name'	=> 'P1_A_1_Cant_IE',
	'id'	=> 'P1_A_1_Cant_IE',
	'maxlength'	=> 2,
);

// TABLA P1_B

$P1_B_1_TPred = array(
	'name'	=> 'P1_B_1_TPred',
	'id'	=> 'P1_B_1_TPred',
	'maxlength'	=> 2,
	'class' => 'input2',	
);

$P1_B_2_PredCol = array(
	'name'	=> 'P1_B_2_PredCol',
	'id'	=> 'P1_B_2_PredCol',
	'maxlength'	=> 1,
	'class' => 'input1',	
);


// TABLA P1_B


$P1_B_2A_PredNoCol = array(
	'name'	=> 'P1_B_2A_PredNoCol',
	'id'	=> 'P1_B_2A_PredNoCol',
	'maxlength'	=> 2,
);

$P1_B_3_12_Nro = array(
	'name'	=> 'P1_B_3_12_Nro',
	'id'	=> 'P1_B_3_12_Nro',
	'maxlength'	=> 1,
);

$P1_B_3_12_NombComp = array(
	'name'	=> 'P1_B_3_12_NombComp',
	'id'	=> 'P1_B_3_12_NombComp',
);

$P1_B_3_InmCod = array(
	'name'	=> 'P1_B_3_InmCod',
	'id'	=> 'P1_B_3_InmCod',
	'maxlength'	=> 12,
	'class' => 'input12',	
);


$P1_B_3_InmTip = array(
	'name'	=> 'P1_B_3_InmTip',
	'id'	=> 'P1_B_3_InmTip',
	'maxlength'	=> 1,
	'class' => 'input1',	
);

$P1_B_3_1_Prop = array(
	'name'	=> 'P1_B_3_1_Prop',
	'id'	=> 'P1_B_3_1_Prop',
	'maxlength'	=> 1,
	'class' => 'input1',	
);

$P1_B_3_1_Prop_O = array(
	'name'	=> 'P1_B_3_1_Prop_O',
	'id'	=> 'P1_B_3_1_Prop_O',
	'maxlength'	=> 255,
	'disabled' => 'disabled',
);

$P1_B_3_2_AntReg_Cod = array(
	'name'	=> 'P1_B_3_2_AntReg_Cod',
	'id'	=> 'P1_B_3_2_AntReg_Cod',
	'maxlength'	=> 1,
	'class' => 'input1',	
);

$P1_B_3_3_AntReg_Nro = array(
	'name'	=> 'P1_B_3_3_AntReg_Nro',
	'id'	=> 'P1_B_3_3_AntReg_Nro',
	'maxlength'	=> 12,
);

$P1_B_3_4_Tipo_TProp = array(
	'name'	=> 'P1_B_3_4_Tipo_TProp',
	'id'	=> 'P1_B_3_4_Tipo_TProp',
	'maxlength'	=> 2,
	'class' => 'input2',	
);

$P1_B_3_4_Tipo_TProp_O = array(
	'name'	=> 'P1_B_3_4_Tipo_TProp_O',
	'id'	=> 'P1_B_3_4_Tipo_TProp_O',
	'maxlength'	=> 255,
	'disabled' => 'disabled',
);

$P1_B_3_5_FecTit = array(
	'name'	=> 'P1_B_3_5_FecTit',
	'id'	=> 'P1_B_3_5_FecTit',
	'maxlength'	=> 10,
	'class' => 'input10 fechap',
	'onKeyUp' => 'javascript:this.value=formateafecha(this.value);',
	// 'readonly' => true,
);

$P1_B_3_6_DocPos = array(
	'name'	=> 'P1_B_3_6_DocPos',
	'id'	=> 'P1_B_3_6_DocPos',
	'maxlength'	=> 2,
	'class' => 'input2',
);

$P1_B_3_6_DocPos_O = array(
	'name'	=> 'P1_B_3_6_DocPos_O',
	'id'	=> 'P1_B_3_6_DocPos_O',
	'maxlength'	=> 255,
	'disabled' => 'disabled',
);

$P1_B_3_7_DocPos_Fech = array(
	'name'	=> 'P1_B_3_7_DocPos_Fech',
	'id'	=> 'P1_B_3_7_DocPos_Fech',
	'maxlength'	=> 10,
	'class' => 'input10 fechap',
	'onKeyUp' => 'javascript:this.value=formateafecha(this.value);',
	// 'readonly' => true,
);

$P1_B_3_8_At_Pred = array(
	'name'	=> 'P1_B_3_8_At_Pred',
	'id'	=> 'P1_B_3_8_At_Pred',
	'maxlength'	=> 9,
	'class' => 'input9',
);

$P1_B_3_9_At_Local = array(
	'name'	=> 'P1_B_3_9_At_Local',
	'id'	=> 'P1_B_3_9_At_Local',
	'maxlength'	=> 9,
	'class' => 'input9',
);

$P1_B_3_10_Comp = array(
	'name'	=> 'P1_B_3_10_Comp',
	'id'	=> 'P1_B_3_10_Comp',
	'class' => 'input1',
	'maxlength'	=> 1,
);

$P1_B_3_11_CompCan = array(
	'name'	=> 'P1_B_3_11_CompCan',
	'id'	=> 'P1_B_3_11_CompCan',
	'class' => 'input2',
	'maxlength'	=> 2,
);


$P1_B_3_Obs = array(
	'name'	=> 'P1_B_3_Obs',
	'id'	=> 'P1_B_3_Obs',
	'class' => 'textarea98p',
);


// $P1_A_2_9_Nro = array(
// 	'name'	=> 'P1_A_2_9_Nro',
// 	'id'	=> 'P1_A_2_9_Nro',
// 	'maxlength'	=> 1,
// );

// $P1_C_20_Nro = array(
// 	'name'	=> 'P1_C_20_Nro',
// 	'id'	=> 'P1_C_20_Nro',
// 	'maxlength'	=> 2,
// );

// $P1_C_20_NombComp = array(
// 	'name'	=> 'P1_C_20_NombComp',
// 	'id'	=> 'P1_C_20_NombComp',
// 	'maxlength'	=> 80,
// );

// $P1_A_2_9_Nro = array(
// 	'name'	=> 'P1_A_2_9_Nro',
// 	'id'	=> 'P1_A_2_9_Nro',
// 	'maxlength'	=> 1,
// );

$P1_A_2_9_AnexNro = array(
	'name'	=> 'P1_A_2_9_AnexNro',
	'id'	=> 'P1_A_2_9_AnexNro',
	'maxlength'	=> 2,
	'class' => 'input2',	
);




// TABLA P1_C - Capitulo I

$P1_C_1_CodLoc_Anex = array(
	'name'	=> 'P1_C_1_CodLoc_Anex',
	'id'	=> 'P1_C_1_CodLoc_Anex',
	'maxlength'	=> 6,
	'class' => 'input6',	
);

$P1_C_2_ProvCod = array(
	'name'	=> 'P1_C_2_ProvCod',
	'id'	=> 'P1_C_2_ProvCod',
	'maxlength'	=> 1,
);

$P1_C_3_DistCod = array(
	'name'	=> 'P1_C_3_DistCod',
	'id'	=> 'P1_C_3_DistCod',
	'maxlength'	=> 1,
);

$P1_C_4_CCPP = array(
	'name'	=> 'P1_C_4_CCPP',
	'id'	=> 'P1_C_4_CCPP',
	'maxlength'	=> 80,
);

$P1_C_5_NucleoUrb = array(
	'name'	=> 'P1_C_5_NucleoUrb',
	'id'	=> 'P1_C_5_NucleoUrb',
	'maxlength'	=> 80,
);

$P1_C_6Dir_1_Tvia = array(
	'name'	=> 'P1_C_6Dir_1_Tvia',
	'id'	=> 'P1_C_6Dir_1_Tvia',
	'maxlength'	=> 1,
	'class' => 'input1',	
);

$P1_C_6Dir_2_Nomb = array(
	'name'	=> 'P1_C_6Dir_2_Nomb',
	'id'	=> 'P1_C_6Dir_2_Nomb',
	'maxlength'	=> 255,
);

$P1_C_6Dir_3_Nro = array(
	'name'	=> 'P1_C_6Dir_3_Nro',
	'id'	=> 'P1_C_6Dir_3_Nro',
	'maxlength'	=> 4,
	'class' => 'input4',	
);

$P1_C_6Dir_4_Piso = array(
	'name'	=> 'P1_C_6Dir_4_Piso',
	'id'	=> 'P1_C_6Dir_4_Piso',
	'maxlength'	=> 3,
	'class' => 'input3',	
);

$P1_C_6Dir_5_Mz = array(
	'name'	=> 'P1_C_6Dir_5_Mz',
	'id'	=> 'P1_C_6Dir_5_Mz',
	'maxlength'	=> 3,
	'class' => 'input3',	
);

$P1_C_6Dir_6_Lt = array(
	'name'	=> 'P1_C_6Dir_6_Lt',
	'id'	=> 'P1_C_6Dir_6_Lt',
	'maxlength'	=> 3,
	'class' => 'input3',	
);

$P1_C_6Dir_7_Sect = array(
	'name'	=> 'P1_C_6Dir_7_Sect',
	'id'	=> 'P1_C_6Dir_7_Sect',
	'maxlength'	=> 3,
	'class' => 'input3',	
);

$P1_C_6Dir_8_Zona = array(
	'name'	=> 'P1_C_6Dir_8_Zona',
	'id'	=> 'P1_C_6Dir_8_Zona',
	'maxlength'	=> 3,
	'class' => 'input3',	
);

$P1_C_6Dir_9_Et = array(
	'name'	=> 'P1_C_6Dir_9_Et',
	'id'	=> 'P1_C_6Dir_9_Et',
	'maxlength'	=> 3,
	'class' => 'input3',	
);

$P1_C_6Dir_10_Km = array(
	'name'	=> 'P1_C_6Dir_10_Km',
	'id'	=> 'P1_C_6Dir_10_Km',
	'maxlength'	=> 4,
	'class' => 'input4',	
);

$P1_C_7_RefDir = array(
	'name'	=> 'P1_C_7_RefDir',
	'id'	=> 'P1_C_7_RefDir',
);

$P1_C_8_InmCod = array(
	'name'	=> 'P1_C_8_InmCod',
	'id'	=> 'P1_C_8_InmCod',
	'maxlength'	=> 12,
);

$P1_C_8_InmTip = array(
	'name'	=> 'P1_C_8_InmTip',
	'id'	=> 'P1_C_8_InmTip',
	'maxlength'	=> 1,
	'class' => 'input1',	
);

$P1_C_9_Prop = array(
	'name'	=> 'P1_C_9_Prop',
	'id'	=> 'P1_C_9_Prop',
	'maxlength'	=> 1,
	'class' => 'input1',	
);

$P1_C_9_Prop_O = array(
	'name'	=> 'P1_C_9_Prop_O',
	'id'	=> 'P1_C_9_Prop_O',
	'disabled' => 'disabled',
);

$P1_C_10_AntReg_Cod = array(
	'name'	=> 'P1_C_10_AntReg_Cod',
	'id'	=> 'P1_C_10_AntReg_Cod',
	'maxlength'	=> 1,
	'class' => 'input1',	
);

$P1_C_11_AntReg_Nro = array(
	'name'	=> 'P1_C_11_AntReg_Nro',
	'id'	=> 'P1_C_11_AntReg_Nro',
	'maxlength'	=> 12,
	'class' => 'input12',	
);

$P1_C_12_Tipo_TProp = array(
	'name'	=> 'P1_C_12_Tipo_TProp',
	'id'	=> 'P1_C_12_Tipo_TProp',
	'maxlength'	=> 2,
	'class' => 'input2',	
);

$P1_C_12_Tipo_TProp_O = array(
	'name'	=> 'P1_C_12_Tipo_TProp_O',
	'id'	=> 'P1_C_12_Tipo_TProp_O',
	'disabled' => 'disabled',
);

$P1_C_13_FecTit = array(
	'name'	=> 'P1_C_13_FecTit',
	'id'	=> 'P1_C_13_FecTit',
	'maxlength'	=> 10,
	'class' => 'input10 fechap',	
	'onKeyUp' => 'javascript:this.value=formateafecha(this.value);',
	// 'readonly' => 'readonly',	
);

$P1_C_14_DocPos = array(
	'name'	=> 'P1_C_14_DocPos',
	'id'	=> 'P1_C_14_DocPos',
	'maxlength'	=> 2,
	'class' => 'input1',	
);

$P1_C_14_DocPos_O = array(
	'name'	=> 'P1_C_14_DocPos_O',
	'id'	=> 'P1_C_14_DocPos_O',
	'disabled' => 'disabled',
);

$P1_C_15_DocPos_Fech = array(
	'name'	=> 'P1_C_15_DocPos_Fech',
	'id'	=> 'P1_C_15_DocPos_Fech',
	'maxlength'	=> 10,
	'class' => 'input10 fechap',	
	'onKeyUp' => 'javascript:this.value=formateafecha(this.value);',
	// 'readonly' => 'readonly',	
);

$P1_C_16_At_Pred = array(
	'name'	=> 'P1_C_16_At_Pred',
	'id'	=> 'P1_C_16_At_Pred',
	'maxlength'	=> 9,
	'class' => 'input9',	
);

$P1_C_17_At_Local = array(
	'name'	=> 'P1_C_17_At_Local',
	'id'	=> 'P1_C_17_At_Local',
	'maxlength'	=> 9,
	'class' => 'input9',	
);

$P1_C_18_Comp = array(
	'name'	=> 'P1_C_18_Comp',
	'id'	=> 'P1_C_18_Comp',
	'maxlength'	=> 1,
	'class' => 'input1',	
);

$P1_C_19_CompCan = array(
	'name'	=> 'P1_C_19_CompCan',
	'id'	=> 'P1_C_19_CompCan',
	'maxlength'	=> 2,
	'class' => 'input2',		
);

$P1_C_Obs = array(
	'name'	=> 'P1_C_Obs',
	'id'	=> 'P1_C_Obs',
	'class' => 'textarea98p',	
);

// TABLA P1_C - Capitulo I


////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// CAPITULO 1
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

$boss_p = ( $pr!=1)? 'hide' : '';


//pr principal
$boss_p_ct = ($pr!=1)? 'hide' : '';
echo '<div id="crest1" class="' . $boss_p . '">';

echo '

<div class="panel panel-info">
							<div class="panel-heading">
								<h5 style="text-transform: uppercase;" class="panel-title">Capitulo I Identificación de las instituciones eductivas, predios y anexos del local escolar</h5>
							</div>
							<form>
							<table class="table table-bordered">
								<thead>
									<tr><th style="text-transform: uppercase;" colspan="2">Sección A: Instituciones educativas</th>
								</tr></thead>

								<tbody>
									<tr><td><strong>1.¿Cuantas instituciones educativas prestan servicio en este local escolar?</strong></td>
									<td>N° de instituciones educativas '.form_input($P1_A_1_Cant_IE).' <input type="button" class="btn btn-primary pull-right" id="addIE" value="Generar" name="AgregarIE"></td>

								</tr></tbody>
							</table>
							</form>



					<div class="btn-toolbar" style="margin: 0;">
		              <div class="btn-group" id="gies">

		              </div>
		            </div>


							<div id="panel-list-ie">
							
								<div style="margin-top: 10px; display: block;" id="ie_educa">';
								
				$attr = array('class' => 'form-vertical form-auth','id' => 'cap1_ie');

				echo form_open($this->uri->uri_string(),$attr); 
				echo '
										<table class="table table-bordered">
											<thead>
												<tr><th colspan="2">2. Institución educativa N° <span>'.form_input($P1_A_2_NroIE).'</span></th>
											</tr></thead>
											<tbody>
												<tr>
													<td>
														<strong>2.1¿Cuál es el nombre de la institución educativa?</strong>
													</td>
													<td>'.form_input($P1_A_2_1_NomIE).'<div class="help-block error"></div></td>
												</tr>
												<tr>
													<td>
														<strong>2.2¿Cuáles son los apellidos y nombres del director?</strong>
													</td>
													<td>'.form_input($P1_A_2_2_Direc).'<div class="help-block error"></div></td>
												</tr>
												<tr>
													<td>
														<strong>2.3¿Cuál es el numero número de DNI o Carnet de Extranjería del Director?</strong>
													</td>
													<td>
														<div class="panel">
															<label>Tipo Documento</label>
															'.form_input($P1_A_2_3_DocTip).' <div class="help-block error"></div>
														</div>
														<div class="panel">
															<label>NRO D.N.I. o Carnet de Extranjería</label>
															'.form_input($P1_A_2_3_DocNro).' <div class="help-block error"></div>
														</div>
													</td>
												</tr>
												<tr>
													<td><strong>2.4¿Cuál es el numero de teléfono de (L) ?</strong></td>
													<td>
														<div class="panel">
															<label>La Institucion Educativa?</label>
															'.form_input($P1_A_2_4_TelfIE).' <div class="help-block error"></div>
														</div>
														<div class="panel">
															<label>Director?</label>
															'.form_input($P1_A_2_4_TelfDir).' <div class="help-block error"></div>
														</div>
													</td>
												</tr>
												<tr>
													<td><strong>2.5¿Cuál es el correo electronico de (L)?</strong></td>
													<td>
														<div class="panel">
															<label>La Institucion Educativa?</label>
															'.form_input($P1_A_2_5_EmailIE).' <div class="help-block error"></div>
														</div>
														<div class="panel">
															<label>Director?</label>
															'.form_input($P1_A_2_5_EmailDir).' <div class="help-block error"></div>
														</div>
													</td>
												</tr>
												<tr>
													<td><strong>2.6¿Apellidos y Nombres del informante?</strong></td>
													<td>'.form_input($P1_A_2_6_Informant).' <div class="help-block error"></div></td>
												</tr>
												<tr>
													<td><strong>2.7¿Cargo del informante?</strong></td>
													<td>'.form_input($P1_A_2_7_InformantCarg).' <div class="help-block error"></div></td>
												</tr>
												<tr>
													<td><strong>2.8¿Cuántos códigos modulares tiene asignada una institución educativa?</strong></td>
													<td>
														<div class="panel">
															<label>N° de Códigos Modulares</label>
															'.form_input($P1_A_2_8_Can_CMod_IE).' <div class="help-block error"></div>
														</div>
													</td>
												</tr>
											</tbody>

										</table>
														<div class="panel">
																<label>Observaciones:</label>
																'.form_textarea($P1_A_2_Obs).'
														</div>';

						echo form_submit('send', 'Guardar','class="btn btn-primary"');
						echo form_close(); 










				$attr = array('class' => 'form-vertical form-auth','id' => 'cap1_cm');

				echo form_open($this->uri->uri_string(),$attr); 

						echo '
										<div class="panel"><!-- N CODIGOS -->
											<label>2.9 Códigos modulares asignados a la institución educativa:</label>

												<table class="table table-bordered">
															<thead>
																<tr>
																	<th style="text-align:center;vertical-align:middle;" rowspan="2" width="70px">N° Ord.</th>
																	<th style="text-align:center;vertical-align:middle;" rowspan="2" width="70px">Codigo Modular</th>
																	<th style="text-align:center;vertical-align:middle;" rowspan="2" width="70px">Codigo local escolar</th>
																	<th style="text-align:center;vertical-align:middle;" rowspan="2" width="70px">Nivel o Modalidad</th>
																	<th style="text-align:center;vertical-align:middle;" rowspan="2" width="70px">Caracteristica</th>
																	<th style="text-align:center;vertical-align:middle;" rowspan="2" width="70px">Numero de anexo</th>
																	<th style="text-align:center;vertical-align:middle;" rowspan="2" width="70px">¿Cuantos ANexos tiene?</th>
																	<th style="text-align:center; border:1px solid #333;" colspan="2" width="70px">1er. Turno</th>
																	<th style="text-align:center; border:1px solid #333;" colspan="2" width="70px">2do. Turno</th>
																	<th style="text-align:center; border:1px solid #333;" colspan="2" width="70px">3er. Turno</th>
																</tr>
																<tr>
																	<th style="text-align:center;">Total Alumnos</th>
																	<th style="text-align:center;">Total Aulas</th>
																	<th style="text-align:center;">Total Alumnos</th>
																	<th style="text-align:center;">Total Aulas</th>
																	<th style="text-align:center;">Total Alumnos</th>
																	<th style="text-align:center;">Total Aulas</th>
																</tr>
																<tr>
																	<th></th>
																	<th style="text-align:center;">(a)</th>
																	<th style="text-align:center;">(b)</th>
																	<th style="text-align:center;">(c)</th>
																	<th style="text-align:center;">(d)</th>
																	<th style="text-align:center;">(e)</th>
																	<th style="text-align:center;">(f)</th>
																	<th style="text-align:center;">(g)</th>
																	<th style="text-align:center;">(h)</th>
																	<th style="text-align:center;">(i)</th>
																	<th style="text-align:center;">(j)</th>
																	<th style="text-align:center;">(k)</th>
																	<th style="text-align:center;">(l)</th>
																</tr>
															</thead>
															</tbody>
														</table>

														<div class="cod_mod" id="cod_mod">



														</div><!-- end cod_mod-->

														<br />
														<br />
														<br />



										</div><!-- end panel ncodigod-->';



						echo form_submit('send', 'Guardar','class="btn btn-primary"');
						echo form_close(); 


						echo '
								</div><!-- END IE EDUCA -->

								
							</div>
		</div>

';
                  // <tr>
                  //   <td style="text-align:center;">2A.</td>
                  //   <td><strong>¿cuales son los predios no colindantes?</strong></td>
                  //   <td>
                  //     <label>N° de predio</label>
                  //     '.form_input($P1_B_2_PredCol).'
                  //   </td>
                  // </tr>




echo '</div>';
///////////////////////////////////////////////////////////

// SECCION B
///////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////





echo '

<div class="panel panel-info">';

$attr = array('class' => 'form-vertical form-auth','id' => 'predio_i');

echo form_open($this->uri->uri_string(),$attr); 
echo '

					<!-- PANEL SECCION B N PREDIOS-->
					<div class="panel-heading">
						<h5 style="text-transform: uppercase;" class="panel-title">Sección B: Predio o predios ocupados por el local escolar</h5>
					</div>

					<div id="panel-list-predio">';

 		echo '<div id="crest1" class="' . $boss_p_ct . '">';

           echo ' <table class="table table-bordered">
                <tbody>
                  <tr>
                    <td style="text-align:center;">1.</td>
                    <td><strong>¿Cuantos predios ocupa el local escolar?</strong></td>
                    <td>
                      <label>N° de predios</label>
                      '.form_input($P1_B_1_TPred).' <div class="help-block error"></div>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align:center;">2.</td>
                    <td><strong>¿Los predios son colindantes?</strong></td>
                    <td>
                      '.form_input($P1_B_2_PredCol).' 1. Si, 2. No<div class="help-block error"></div>
                    </td>
                  </tr>

                </tbody>
            </table>';

        echo '</div>';

			echo '			<table class="table table-bordered" id="table_predios" style="display: table;">
								<thead>
									<tr>
										<th colspan="2">
											<label style="float:left;">Predio N°</label>
										</th>
										<th>
											'.$pr.'
										</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td style="text-align:center;">3.</td>
										<td>
											<strong>¿Cuál es el código del inmueble del predio 01?</strong><br>
											(Este código se encuentranen la constancia MARGESI)
										</td>
										<td>
											'.form_input($P1_B_3_InmCod).' <div class="help-block error"></div>
											<br> 

											<label class="checkbox-inline">
												'.form_input($P1_B_3_InmTip).' <div class="help-block error"></div> 1. No tiene constancia, 2. No sabe
											</label>
										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.1</td>
										<td>
											<strong>¿Quién es el propietario del predio?</strong><br>
											(Acepte sólo un código)
										</td>
										<td>
											'.form_input($P1_B_3_1_Prop).' <div class="help-block error"></div> <br />
											Especifique - '.form_input($P1_B_3_1_Prop_O).'

										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.2</td>
										<td>
											<strong>¿El antecedente registral que tiene el predio es?</strong><br>
											(Acepte sólo un código)
										</td>
										<td>
											'.form_input($P1_B_3_2_AntReg_Cod).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.3</td>
										<td>
											<strong>¿Cuál es el número del antecedente registral?</strong><br>

										</td>
										<td>
											<label>N° de antecedente registral</label>
											'.form_input($P1_B_3_3_AntReg_Nro).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.4</td>
										<td>
											<strong>¿El Título de propiedad no inscrito que tiene el predio es:</strong><br>
											(Acepte sólo un código)
										</td>
										<td>
											'.form_input($P1_B_3_4_Tipo_TProp).' <div class="help-block error"></div> <br />
											Especifique - '.form_input($P1_B_3_4_Tipo_TProp_O).' 

										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.5</td>
										<td>
											<strong>¿En que fecha se emitio el título no inscrito?</strong><br>

										</td>
										<td>
											<label>Fecha</label>
											'.form_input($P1_B_3_5_FecTit).'  <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.6</td>
										<td>
											<strong>¿El documento de posesión que tiene el predio es:</strong><br>
											(Acepte sólo un código)
										</td>
										<td>
											'.form_input($P1_B_3_6_DocPos).' <div class="help-block error"></div> <br />
											Especifique - '.form_input($P1_B_3_6_DocPos_O).' 
										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.7</td>
										<td>
											<strong>¿En qué fecha se emitió el documento de posesión?</strong><br>

										</td>
										<td>
											<label>Fecha</label>
											'.form_input($P1_B_3_7_DocPos_Fech).'  <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.8</td>
										<td>
											<strong>¿Cuál es el area del terreno que ocupa el predio?</strong><br>

										</td>
										<td>
											<label>Area en m2</label>
											'.form_input($P1_B_3_8_At_Pred).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.9</td>
										<td>
											<strong>¿Cuál es el area del terreno que ocupa el local escolar en este predio?</strong><br>

										</td>
										<td>
											<label>Area en m2</label> 
											'.form_input($P1_B_3_9_At_Local).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td style="text-align:center;">3.10</td>
										<td>
											<strong>¿El predio es compartido con otros locales escolares , otras instituciones o servicios?</strong>
										</td>
										<td>'.form_input($P1_B_3_10_Comp).' <div class="help-block error"></div></td>
									</tr>
									<tr>
										<td style="text-align:center;">3.11</td>
										<td>
											<strong>¿Con cuántos locales escolares otras instituciones o servicios comparten el predio?</strong>
										</td>
										
										<td>'.form_input($P1_B_3_11_CompCan).' <div class="help-block error"></div> <ul id="pred_n"></ul></td>





									</tr>
									<tr>
										<td style="text-align:center;">3.12</td>
										<td>
											<strong>¿cuáles son los nombres de los locales escolares, otras instituciones o servicios con los que comparte el predio?</strong><br>
											(Diligencie, según respuesta en pregunta 3.11)
										</td>
									</tr>
								</tbody>
						</table>

						<div class="panel">
							<label>Observaciones:</label>
							'.form_textarea($P1_B_3_Obs).'
						</div>

					</div>';
echo form_submit('send', 'Guardar','class="btn btn-primary"');
echo form_close(); 					
echo '
		</div>

';



///////////////////////////////////////////////////////////

// SECCION C
///////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////




// echo '

// <div style="background:#DDD;" class="panel" id="panel-anexo">
									
// 			<strong>Número de Anexos '.form_input($P1_A_2_1_NomIE).'</strong>

// </div>

// ';

echo '<div id="crest2" class="' . $boss_p . '">';
					echo '
					<h3>Códigos Modulares</h3>
					<div class="btn-toolbar" style="margin: 0;">
		              <div class="btn-group" id="gcmod">

		              </div>
		            </div>';						

					echo '
					<h3>Anexos</h3>
					<div class="btn-toolbar" style="margin: 0;">
		              <div class="btn-group" id="gaxs">

		              </div>
		            </div>';

echo '</div>';

$attr = array('class' => 'hide form-vertical form-auth','id' => 'cap1_ax');

echo form_open($this->uri->uri_string(),$attr); 


echo '

<div class="panel panel-info"><!-- PANEL SECCION C N ANEXOS-->
							
							<div class="panel-heading">
								<h5 style="text-transform: uppercase;" class="panel-title">Sección C: Anexos de la institución educativa</h5>
							</div>

							<div class="panel">
									Evaluador: Diligencie esta sección sólo si en la columna (f) de la pregunta 2.9 Sección A, declaro tener 1 o mas anexos
							</div>

							<div id="panel-list-anexo">

								<div style="height:100px;" class="panel">
									<div style="float:left; margin-left:150px;" class="panel">
										<label>Número de Anexo</label>
										'.form_input($P1_A_2_9_Nro).'
									</div>
									<div style="float:left; margin-left:150px;" class="panel">
										<label>Codigo Modular</label>
										'.form_input($P1_A_2_9_NroCMod).'
									</div>
								</div>

								<div class="panel">
									<div class="panel">
										<strong>1. ¿Cuál es el código del local escolar del anexo? </strong>
										'.form_input($P1_C_1_CodLoc_Anex).' <div class="help-block error"></div>
									</div>

								</div><!--END PANEL -->

';


echo '

<div class="panel panel-info">


								<ul class="list-group">
									<li class="list-group-item"><div style="width:150px; margin-left:10px; float:left;">2. Provincia </div> '.form_dropdown('P1_C_2_ProvCod', $provArray, FALSE,'class="input200" id="P1_C_2_ProvCod"').' </li>
									<li class="list-group-item"><div style="width:150px; margin-left:10px; float:left;">3. Distrito </div> '.form_dropdown('P1_C_3_DistCod', $distArray, FALSE,'class="input200" id="P1_C_3_DistCod"').'</li>
									<li class="list-group-item"><div style="width:150px; margin-left:10px; float:left;">4. Centro Poblado </div> '.form_input($P1_C_4_CCPP).'<div class="help-block error"></div></li>
									<li class="list-group-item"><div style="width:150px; margin-left:10px; float:left;">5. Nucleo Urbano </div> '.form_input($P1_C_5_NucleoUrb).'<div class="help-block error"></div></li>
								</ul>

						</div>

';


echo '

<div class="panel">
									<div class="panel-heading">7. Dirección del local escolar (Para tipo de via circule solo un codigo)</div>

								  	<label class="checkbox-inline">
										'.form_input($P1_C_6Dir_1_Tvia).' <div class="help-block error"></div> 1. Avenida , 2. Jiron , 3. Calle , 4. Pasaje , 5. Carretera, 6. Autopista , 7. Otro
									</label>
						</div>

';


echo '

<table class="table table-bordered">
							<thead>

								<tr>
									<th>Nombre de la via</th>
									<th>N° de Puerta</th>
									<th>Piso</th>
									<th>Mz.</th>
									<th>Lote</th>
									<th>Sector</th>
									<th>Zona</th>
									<th>Etapa</th>
									<th>Km</th>
								</tr>

							</thead>
							<tbody>

								<tr>
									<td>'.form_input($P1_C_6Dir_2_Nomb).'<div class="help-block error"></div></td>
									<td>'.form_input($P1_C_6Dir_3_Nro).'<div class="help-block error"></div></td>
									<td>'.form_input($P1_C_6Dir_4_Piso).'<div class="help-block error"></div></td>
									<td>'.form_input($P1_C_6Dir_5_Mz).'</td>
									<td>'.form_input($P1_C_6Dir_6_Lt).'</td>
									<td>'.form_input($P1_C_6Dir_7_Sect).'</td>
									<td>'.form_input($P1_C_6Dir_8_Zona).'</td>
									<td>'.form_input($P1_C_6Dir_9_Et).'</td>
									<td>'.form_input($P1_C_6Dir_10_Km).'</td>
								</tr>

							</tbody>
						</table>

';

echo '

<ul class="list-group">

							<li class="list-group-item">
								9. Referencia de la dirección del local escolar
								'.form_input($P1_C_7_RefDir).'<div class="help-block error"></div>
							</li>
						</ul>

';


echo '


								<table style="margin-top:20px;" class="table table-bordered">
									<tbody><tr>
										<td>8.</td>
										<td><strong>¿Cuál es el código del inmueble del anexo 01?</strong><br>
											(Este código se encuentra en la constancia MARGESI)</td>
										<td>
											'.form_input($P1_C_8_InmTip).' <div class="help-block error"></div> 1. No tiene constancia , 2. No sabe 
											<br />
											'.form_input($P1_C_8_InmCod).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>9.</td>
										<td>
											<strong>¿Quien es el propietario del predio?</strong>
											<br>(Acepte sólo un código)
										</td>
										<td>
											'.form_input($P1_C_9_Prop).'  <div class="help-block error"></div> 1. Ministerio de educación?,  2. Institución educativa?, 3. Estado?, 4. Otro sector del estado?, 5.Propiedad de terceros? <br />
											'.form_input($P1_C_9_Prop_O).' Especifique <div class="help-block error"></div>

										</td>
									</tr>
									<tr>
										<td>10.</td>
										<td>
											<strong>¿El antecedente registral que tiene el predio es:</strong>
											<br>(Acepte sólo un código)
										</td>
										<td>
											'.form_input($P1_C_10_AntReg_Cod).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>11.</td>
										<td><strong>¿Cuál es el número del antecedente registral?</strong></td>
										<td>
											<label>N° de antecedente registral</label>
											'.form_input($P1_C_11_AntReg_Nro).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>12.</td>
										<td>
											<strong>¿El Título de propiedad no inscrito que tiene el predio es:</strong>
											<br>(Acepte sólo un código)
										</td>
										<td>
											'.form_input($P1_C_12_Tipo_TProp).' <div class="help-block error"></div> <br />
											'.form_input($P1_C_12_Tipo_TProp_O).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>13.</td>
										<td><strong>¿En qué fecha se emitió el título no inscrito?</strong></td>
										<td>
											<label>Fecha</label>
											'.form_input($P1_C_13_FecTit).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>14.</td>
										<td>
											<strong>¿El Documento de poseíón que tiene es:</strong>
											<br>(Acepte sólo un código)
										</td>
										<td>
											'.form_input($P1_C_14_DocPos).' <div class="help-block error"></div> <br />
											'.form_input($P1_C_14_DocPos_O).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>15.</td>
										<td><strong>¿En qué fecha se emitió el documento de posesión?</strong></td>
										<td>
											<label>Fecha</label>
											'.form_input($P1_C_15_DocPos_Fech).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>16.</td>
										<td><strong>¿Cuál es el area del terreno que ocupa el predio?</strong></td>
										<td>
											<label>Area en m2</label>
											<table class="table table-bordered">
												<tbody>
												<tr>
													<td>'.form_input($P1_C_16_At_Pred).' <div class="help-block error"></div></td>
												</tr>
											</tbody></table>
										</td>
									</tr>
									<tr>
										<td>17.</td>
										<td><strong>¿Cual es el area del terrreno que ocupa el local escolar?</strong></td>
										<td>
											<label>Area en m2</label>
											<table class="table table-bordered">
												<tbody>
												<tr>
													<td>'.form_input($P1_C_17_At_Local).' <div class="help-block error"></div></td>
												</tr>
											</tbody></table>
										</td>
									</tr>
									<tr>
										<td>18.</td>
										<td><strong>¿El predio es compartido con otros locales escolares, otras instituciones o servicios?</strong></td>
										<td>
											'.form_input($P1_C_18_Comp).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>19.</td>
										<td><strong>¿Con cuántos locales escolares, otras instituciones o servicios comparten el predio?</strong></td>
										<td>
											<label>N°</label>
											'.form_input($P1_C_19_CompCan).' <div class="help-block error"></div>
										</td>
									</tr>
									<tr>
										<td>20.</td>
										<td>
											<strong>¿Cuáles son los nombres de los locales escolares, otras instituciones o servicios con los que comparte el predio?</strong>
											<br>(Diligencie según respuesta en pregunta 18)
										</td>

										<td>
										<ul id="ax20n">
											
										</ul>
										</td>
									</tr>


									<tr>
										<td colspan="3">
											'.form_textarea($P1_C_Obs).'
										</td>									
									</tr>
								</tbody></table>

						
							<div><!--END PANEL LIST ANEXO-->
		
		</div><!-- END SECCIOM C -->


	</div>

</div>

';
echo form_submit('send', 'Guardar','class="btn btn-primary"');
echo form_close(); 
 ?>



<script type="text/javascript">


$(function(){



$('#P1_A_2_3_DocTip').change(function(event){
	if(parseInt($(this).val()) == 1){
		$("#P1_A_2_3_DocNro").attr('maxlength','8');
	}else if(parseInt($(this).val()) == 2 || parseInt($(this).val()) == 9){
		$("#P1_A_2_3_DocNro").attr('maxlength','10');	
	}

});


$('#P1_B_3_InmCod').change(function(event) {
	if($(this).val() != ''){
		$('#P1_B_3_InmTip').val('');
		$('#P1_B_3_InmTip').attr('disabled','disabled');		
	}else{
		$('#P1_B_3_InmTip').removeAttr('disabled');	

	}
});

//val predios header
$('#P1_B_1_TPred').change(function(event) {
	if($(this).val() == 1){
		$('#P1_B_2_PredCol').val('');
		$('#P1_B_2_PredCol').attr('disabled','disabled');		
	}else{
		$('#P1_B_2_PredCol').removeAttr('disabled');	

	}
});

//val anexo
$('#P1_C_18_Comp').change(function(event) {
	if($(this).val() == 2){
		$('#P1_C_19_CompCan').val('');
		$('#P1_C_19_CompCan').attr('disabled','disabled');		

	}else{
		$('#P1_C_19_CompCan').removeAttr('disabled');	

	}
	$('#P1_C_19_CompCan').trigger('change');

});

$('#P1_C_11_AntReg_Nro').change(function(event) {
	if($(this).val() == ''){
		$('#P1_C_12_Tipo_TProp').removeAttr('disabled');	
		$('#P1_C_12_Tipo_TProp').trigger('change');	

		$('#P1_C_13_FecTit').removeAttr('disabled');	

		$('#P1_C_14_DocPos').removeAttr('disabled');	
		$('#P1_C_14_DocPos').trigger('change');	
		
		$('#P1_C_15_DocPos_Fech').removeAttr('disabled');	

	}else{
		$('#P1_C_12_Tipo_TProp').val('');
		$('#P1_C_12_Tipo_TProp').trigger('change');
		$('#P1_C_12_Tipo_TProp').attr('disabled','disabled');		

		$('#P1_C_13_FecTit').val('');
		$('#P1_C_13_FecTit').attr('disabled','disabled');	

		$('#P1_C_14_DocPos').val('');
		$('#P1_C_14_DocPos').trigger('change');
		$('#P1_C_14_DocPos').attr('disabled','disabled');		

		$('#P1_C_15_DocPos_Fech').val('');
		$('#P1_C_15_DocPos_Fech').attr('disabled','disabled');	
	}
});

$('#P1_C_10_AntReg_Cod').change(function(event) {
	if($(this).val() == 5){
		$('#P1_C_11_AntReg_Nro').val('');
		$('#P1_C_11_AntReg_Nro').attr('disabled','disabled');		

	}else{
		$('#P1_C_11_AntReg_Nro').removeAttr('disabled');	

	}
	$('#P1_C_11_AntReg_Nro').trigger('change');

});


$('#P1_C_12_Tipo_TProp').change(function(event) {
	if($(this).val() == 9){
		$('#P1_C_12_Tipo_TProp_O').removeAttr('disabled');
		if($('#P1_C_11_AntReg_Nro').val() == '')
		$('#P1_C_13_FecTit').removeAttr('disabled');	
	}else if($(this).val() == 10){
		$('#P1_C_12_Tipo_TProp_O').val('');
		$('#P1_C_12_Tipo_TProp_O').attr('disabled','disabled');

		$('#P1_C_13_FecTit').val('');
		$('#P1_C_13_FecTit').attr('disabled','disabled');	
	}else{
		$('#P1_C_12_Tipo_TProp_O').val('');
		$('#P1_C_12_Tipo_TProp_O').attr('disabled','disabled');
		if($('#P1_C_11_AntReg_Nro').val() == '')
		$('#P1_C_13_FecTit').removeAttr('disabled');	
	}
});

$('#P1_C_14_DocPos').change(function(event) {
	if($(this).val() == 9){
		$('#P1_C_14_DocPos_O').removeAttr('disabled');
		if($('#P1_C_11_AntReg_Nro').val() == '')
		$('#P1_C_15_DocPos_Fech').removeAttr('disabled');
	}else if($(this).val() == 10){
		$('#P1_C_14_DocPos_O').val('');
		$('#P1_C_14_DocPos_O').attr('disabled','disabled');

		$('#P1_C_15_DocPos_Fech').val('');
		$('#P1_C_15_DocPos_Fech').attr('disabled','disabled');	
	}else{
		$('#P1_C_14_DocPos_O').val('');
		$('#P1_C_14_DocPos_O').attr('disabled','disabled');
		if($('#P1_C_11_AntReg_Nro').val() == '')
		$('#P1_C_15_DocPos_Fech').removeAttr('disabled');
	}
});




//val predio
$('#P1_B_3_10_Comp').change(function(event) {
	if($(this).val() == 2){
		$('#P1_B_3_11_CompCan').val('');
		$('#P1_B_3_11_CompCan').attr('disabled','disabled');		

	}else{
		$('#P1_B_3_11_CompCan').removeAttr('disabled');	

	}
	$('#P1_B_3_11_CompCan').trigger('keyup');

});


$('#P1_B_3_5_FecTit').change(function(event) {
	if($(this).val() == ''){
		$('#P1_B_3_6_DocPos').removeAttr('disabled');	
		$('#P1_B_3_7_DocPos_Fech').removeAttr('disabled');	
	}else{
		$('#P1_B_3_6_DocPos').val('');
		$('#P1_B_3_6_DocPos').trigger('change');
		$('#P1_B_3_6_DocPos').attr('disabled','disabled');		

		$('#P1_B_3_7_DocPos_Fech').val('');
		$('#P1_B_3_7_DocPos_Fech').attr('disabled','disabled');	
	}
});

$('#P1_B_3_3_AntReg_Nro').change(function(event) {
	if($(this).val() == '' || $(this).val() == 999999999999){
		$('#P1_B_3_4_Tipo_TProp').removeAttr('disabled');	
		$('#P1_B_3_5_FecTit').removeAttr('disabled');	
		$('#P1_B_3_6_DocPos').removeAttr('disabled');	
		$('#P1_B_3_7_DocPos_Fech').removeAttr('disabled');	
	}else{
		$('#P1_B_3_4_Tipo_TProp').val('');
		$('#P1_B_3_4_Tipo_TProp').trigger('change');
		$('#P1_B_3_4_Tipo_TProp').attr('disabled','disabled');	

		$('#P1_B_3_5_FecTit').val('');
		$('#P1_B_3_5_FecTit').attr('disabled','disabled');	

		$('#P1_B_3_6_DocPos').val('');
		$('#P1_B_3_6_DocPos').trigger('change');
		$('#P1_B_3_6_DocPos').attr('disabled','disabled');		

		$('#P1_B_3_7_DocPos_Fech').val('');
		$('#P1_B_3_7_DocPos_Fech').attr('disabled','disabled');	
	}
});



$('#P1_B_3_2_AntReg_Cod').change(function(event) {
	if($(this).val() == 5){
		$('#P1_B_3_3_AntReg_Nro').val('');
		$('#P1_B_3_3_AntReg_Nro').attr('disabled','disabled');		

	}else{
		$('#P1_B_3_3_AntReg_Nro').removeAttr('disabled');	

	}
	$('#P1_B_3_3_AntReg_Nro').trigger('change');

});



$('#P1_B_3_6_DocPos').change(function(event) {
	if($(this).val() == 9){
		$('#P1_B_3_6_DocPos_O').removeAttr('disabled');
		$('#P1_B_3_7_DocPos_Fech').removeAttr('disabled');	
	}else if($(this).val() == 10){
		$('#P1_B_3_7_DocPos_Fech').val('');
		$('#P1_B_3_7_DocPos_Fech').attr('disabled','disabled');			
	}else{
		$('#P1_B_3_6_DocPos_O').val('');
		$('#P1_B_3_6_DocPos_O').attr('disabled','disabled');
		// $('#P1_B_3_7_DocPos_Fech').removeAttr('disabled');	

	}
});


$('#P1_B_3_4_Tipo_TProp').change(function(event) {
	if($(this).val() == 9){
		$('#P1_B_3_4_Tipo_TProp_O').removeAttr('disabled');
		$('#P1_B_3_5_FecTit').removeAttr('disabled');
	}else if($(this).val() == 10){
		$('#P1_B_3_5_FecTit').val('');
		$('#P1_B_3_5_FecTit').attr('disabled','disabled');
		$('#P1_B_3_4_Tipo_TProp_O').val('');
		$('#P1_B_3_4_Tipo_TProp_O').attr('disabled','disabled');		
	}else{
		$('#P1_B_3_4_Tipo_TProp_O').val('');
		$('#P1_B_3_4_Tipo_TProp_O').attr('disabled','disabled');
		$('#P1_B_3_5_FecTit').removeAttr('disabled');
	}
});


$('#P1_B_3_1_Prop').change(function(event) {
	if($(this).val() == 5 || $(this).val() == 4){
		$('#P1_B_3_1_Prop_O').removeAttr('disabled');
	}else{
		$('#P1_B_3_1_Prop_O').val('');
		$('#P1_B_3_1_Prop_O').attr('disabled','disabled');
	}
});



//print btn ies
function btnies(n){
	$('#gies').empty();	
	var gies_str = '';
	for(var i=1; i<=n; i++){
		active = (i==1)? 'class="btn ienro active"' : 'class="btn ienro"';
		gies_str += '<button ' + active + '>' + i + '</button>';
	}
	$('#gies').append(gies_str);
	$('.btn.ienro.active').trigger('click');
}


//print axs
$(document).on("change",'.anx',function() {
	var son = $(this);
if(son.val() != 99){	
	var par = son.parent();
	$('.anexo',par).remove();    
	var dcm = son.data("cm");
	var as = 1;
	var ax_str = '';
	for(var i=1; i<=son.val(); i++){
		    ax_str += '<div class="ax' + i + ' anexo">';
		    ax_str +='<span class="prev_anexo">Nombre asignado al anexo N°</span> <input type="text" class="input2" style="margin-left: 15px" maxlength="2" id="P1_A_2_9_AnexNro_'+ dcm + '_' + as + '" value="' + i + '" readonly name="P1_A_2_9_AnexNro_'+ dcm + '[]">';
		    ax_str +='<input type="text" style="margin-left: 34px; margin-right: 48px; width: 381px !important" class="input200 P1_A_2_9_AnexNro" maxlength="200" id="P1_A_2_9_AnexNomb_'+ dcm + '_' + as + '" value="" name="P1_A_2_9_AnexNomb_'+ dcm + '[]">';
		    ax_str +='<input type="text" class="input5 P1_A_2_9G_T1_Talu" style="margin-left: 0; margin-right:19px" maxlength="5" id="P1_A_2_9G_T1_Talu_'+ dcm + '_' + as + '" value="" name="P1_A_2_9G_T1_Talu_'+ dcm + '[]">';
		    ax_str +='<input type="text" class="input3 P1_A_2_9H_T1_Taul" style="margin-left: 10px; margin-right:19px" maxlength="3" id="P1_A_2_9H_T1_Taul_'+ dcm + '_' + as + '" value="" name="P1_A_2_9H_T1_Taul_'+ dcm + '[]">';
		    ax_str +='<input type="text" class="input5 P1_A_2_9I_T2_Talu" style="margin-left: 10px; margin-right:19px" maxlength="5" id="P1_A_2_9I_T2_Talu_'+ dcm + '_' + as + '" value="" name="P1_A_2_9I_T2_Talu_'+ dcm + '[]">';
		    ax_str +='<input type="text" class="input3 P1_A_2_9J_T2_Taul" style="margin-left: 10px; margin-right:20px" maxlength="3" id="P1_A_2_9J_T2_Taul_'+ dcm + '_' + as + '" value="" name="P1_A_2_9J_T2_Taul_'+ dcm + '[]">';
		    ax_str +='<input type="text" class="input5 P1_A_2_9K_T3_Talu" style="margin-left: 10px; margin-right:19px" maxlength="5" id="P1_A_2_9K_T3_Talu_'+ dcm + '_' + as + '" value="" name="P1_A_2_9K_T3_Talu_'+ dcm + '[]">';
		    ax_str +='<input type="text" class="input3 P1_A_2_9L_T3_Taul" style="margin-left: 10px; margin-right:0" maxlength="3" id="P1_A_2_9L_T3_Taul_'+ dcm + '_' + as + '" value="" name="P1_A_2_9L_T3_Taul_'+ dcm + '[]">';
		    ax_str += '</div>';
		   as++;
	}	
	par.append(ax_str);

	//Llenar Anexos x Cod Mod
	var cm_data = {
		id_local: $("input[name='id_local']").val(),
		Nro_Pred: $("input[name='Nro_Pred']").val(),
		P1_A_2_NroIE: $("#P1_A_2_NroIE").val(),
		P1_A_2_9_NroCMod: dcm,
		ajax:1
	};						

	$.ajax({
		url: CI.site_url + "/consistencia/cap1/get_ax",
		type:'POST',
		data:cm_data,
		dataType:'json',
		success:function(json){
			var dd = 1;
			$.each( json.axs, function(i, data) {
				$('#P1_A_2_9_AnexNro_' + dcm + '_' + dd).val(data.P1_A_2_9_AnexNro);
				$('#P1_A_2_9_AnexNomb_' + dcm + '_' + dd).val(data.P1_A_2_9_AnexNomb);
				$('#P1_A_2_9G_T1_Talu_' + dcm + '_' + dd).val(data.P1_A_2_9G_T1_Talu);
				$('#P1_A_2_9H_T1_Taul_' + dcm + '_' + dd).val(data.P1_A_2_9H_T1_Taul);
				$('#P1_A_2_9I_T2_Talu_' + dcm + '_' + dd).val(data.P1_A_2_9I_T2_Talu);
				$('#P1_A_2_9J_T2_Taul_' + dcm + '_' + dd).val(data.P1_A_2_9J_T2_Taul);
				$('#P1_A_2_9K_T3_Talu_' + dcm + '_' + dd).val(data.P1_A_2_9K_T3_Talu);
				$('#P1_A_2_9L_T3_Taul_' + dcm + '_' + dd).val(data.P1_A_2_9L_T3_Taul);
				dd++;
			}); 
		}
	});  
}
});

//valid cm
$(document).on("change",'.p1cme',function() {
		var pre = $(this).attr('id');
		var nro = pre.substring(18,19);

	if($(this).val() == 0){
		 	$('#P1_A_2_9F_CantAnex_' + nro).removeAttr('readonly');
		 	$('#P1_A_2_9F_CantAnex_' + nro).trigger('change');		 	
	}else{
		 	$('#P1_A_2_9F_CantAnex_' + nro).val('');
		 	$('#P1_A_2_9F_CantAnex_' + nro).attr('readonly','readonly');
		 	$('#P1_A_2_9F_CantAnex_' + nro).attr('tabindex','-1');

		 	$('#P1_A_2_9F_CantAnex_' + nro).trigger('change');		 	
		 	
	}

});

//print btn cmod
function btncmod(n){
	$('#gcmod').empty();
	$('#gaxs').empty();
	$('#cap1_ax').hide();
	$('#cap1_ax')[0].reset();	
	var gcmod_str = '';
	for(var i=1; i<=n; i++){
		active = (i==1)? 'class="btn cmbnro active"' : 'class="btn cmbnro"';
		gcmod_str += '<button ' + active + '>' + i + '</button>';
	}
	$('#gcmod').append(gcmod_str);
	$('.btn.cmbnro.active').trigger('click');
}

//combo prov AX
$("#P1_C_2_ProvCod").change(function(event) {
        var sel = null;
        var dep = null;
        var urlx = null;
        dep = $("#PC_A_1_Dep");
        sel = $("#P1_C_3_DistCod");
        urlx = CI.site_url + "/ajaxx/consistencia_ajax/get_ajax_dist/" + dep.val() + "/" + $(this).val();  
           
        var form_data = {
            prov: $(this).val(),
            dep: dep.val(),
            ajax:1
        };

        $.ajax({
            url: urlx,
            type:'POST',
            data:form_data,
            dataType:'json',
            success:function(json_data){
                sel.empty();
                // sel.append('<option value="-1">-</option>');
                $.each(json_data, function(i, data){
                    	sel.append('<option value="' + data.CCDI + '">' + data.Nombre + '</option>');
                });   	                
            }
        });           
});

//AX 20N




$("#P1_C_19_CompCan").change(function(event) {

	$("#ax20n").empty();
	if ( $(this).val() < 99 )
	{
		for(var i=1; i<=$(this).val(); i++){
			$("#ax20n").append('<li><input type="text" maxlength="2" class="input2" readonly id="P1_C_20_Nro_' + i + '" value="' + i + '" name="P1_C_20_Nro[]"><input type="text" maxlength="80" id="P1_C_20_NombComp_' + i + '" value="" name="P1_C_20_NombComp[]"> <div class="help-block error"></div></li>')
		}
		var as = 1;

		//Llenar Anexos x Cod Mod
		var axc_data = {
			id_local: $("input[name='id_local']").val(),
			Nro_Pred: $("input[name='Nro_Pred']").val(),
			P1_A_2_NroIE: $("#P1_A_2_NroIE").val(),
			P1_A_2_9_NroCMod: $("#P1_A_2_9_NroCMod").val(),
			P1_A_2_9_Nro: $("#P1_A_2_9_Nro").val(),
			ajax:1
		};						

		$.ajax({
			url: CI.site_url + "/consistencia/cap1/get_ax_c",
			type:'POST',
			data:axc_data,
			dataType:'json',
			success:function(json){
				$.each( json.axic, function(i, data) {
					$('#P1_C_20_Nro_' +  as).val(data.P1_C_20_Nro);
					$('#P1_C_20_NombComp_' +  as).val(data.P1_C_20_NombComp);			
					as++;							
				}); 	
			}
		});  
	}
});



//boton ANEXO NRO
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$(document).on("click",'.axnro',function() {
	var myax = $(this);
	var nrocm = $('.btn.cmbnro.active').text();
	var nroax = myax.text();
	$('.axnro').removeClass("active");
	myax.addClass("active");
	//reset form
	// $('#cap1_ie')[0].reset();

		var get_ax_data = {
			id_local: $("input[name='id_local']").val(),
			Nro_Pred: $("input[name='Nro_Pred']").val(),
			P1_A_2_NroIE: $("#P1_A_2_NroIE").val(),
			P1_A_2_9_NroCMod: nrocm,
			P1_A_2_9_Nro: nroax,
			ajax:1
		};		

		$.ajax({
			url: CI.site_url + "/consistencia/cap1/get_axi",
			type:'POST',
			cache:false,
			data:get_ax_data,
			dataType:'json',
			success:function(json){
				//reset - show form ax
				$('#cap1_ax').show();
				$('#cap1_ax')[0].reset();

 				//Llenar anexo			
				$.each( json.axi[0], function(fila, valor) {
					if(fila != 'id_local' && fila != 'Nro_Pred' && fila != 'P1_A_2_NroIE'){							
						   	if(fila == 'P1_C_2_ProvCod' || fila == 'P1_C_8_InmTip' || fila == 'P1_C_8_InmCod' || fila == 'P1_C_9_Prop' || fila == 'P1_C_10_AntReg_Cod' || fila == 'P1_C_11_AntReg_Nro' || fila == 'P1_C_12_Tipo_TProp' || fila == 'P1_C_14_DocPos' || fila == 'P1_C_18_Comp'|| fila == 'P1_C_19_CompCan'){
						   		$('#' + fila).val(valor);
						   		$('#' + fila).trigger('change');
							}else if(fila == 'P1_C_15_DocPos_Fech' || fila == 'P1_C_13_FecTit'){
								$('#' + fila).val(makeday(valor));	
							}else if(fila == 'P1_C_3_DistCod'){
                                var interval_DI_cp1 = setInterval(function(){
	                                if($('#P1_C_3_DistCod option:nth-child(2)').length){
	                                    clearInterval(interval_DI_cp1);
	                                    $('#P1_C_3_DistCod').val(valor);
	                                 }
                            	}, 1000);        
                            }else{
						   		$('#' + fila).val(valor);
							}
					}						
				}); 	



			}
		}); 

}); 

//print btn axs
function btnax(n){
	$('#gaxs').empty();	
	var gaxs_str = '';
	for(var i=1; i<=n; i++){
		active = (i==100)? 'class="btn axnro active"' : 'class="btn axnro"';
		gaxs_str += '<button type="button" ' + active + '>' + i + '</button>';
	}
	$('#gaxs').append(gaxs_str);
	//$('.btn.axnro.active').trigger('click');
}


//boton CM NRO
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$(document).on("click",'.cmbnro',function() {
	var myie = $(this);
	var nro = myie.text();

	$('.cmbnro').removeClass("active");
	myie.addClass("active");
	//reset form
	// $('#cap1_ie')[0].reset();

		var get_cm_data = {
			id_local: $("input[name='id_local']").val(),
			Nro_Pred: $("input[name='Nro_Pred']").val(),
			P1_A_2_NroIE: $("#P1_A_2_NroIE").val(),
			P1_A_2_9_NroCMod: nro,
			ajax:1
		};		

		$.ajax({
			url: CI.site_url + "/consistencia/cap1/get_ax",
			type:'POST',
			cache:false,
			data:get_cm_data,
			dataType:'json',
			success:function(json){
				btnax(json.nroaxs);	
				//reset - hide form ax
				$('#cap1_ax').hide();
				$('#cap1_ax')[0].reset();											
			}
		}); 

}); 



//print codmod table
function gen_cms(n,re){
	$('#cod_mod').empty();	
	var cm_str = '';

	//Generar codigos modulares
	for(var i=1; i<=n; i++){
		cm_str += '<div class="cmp' + i + ' codmod" id="cmp' + i + '" style="border: 1px solid #ccc; text-align: left">';
		cm_str += '<input id="P1_A_2_9_NroCMod_' + i + '" style="margin-left: 10px; margin-right:10px" class="input7" type="text" readonly maxlength="7" value="" name="P1_A_2_9_NroCMod[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9A_CMod_' + i + '" style="margin-left: 10px; margin-right:20px" class="input7" type="text" maxlength="7" value="" name="P1_A_2_9A_CMod[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9B_CodLocal_' + i + '" style="margin-left: 10px; margin-right:20px" class="input6" type="text" maxlength="6" value="" name="P1_A_2_9B_CodLocal[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9C_Nivel_' + i + '" style="margin-left: 10px; margin-right:50px" class="input1" type="text" maxlength="2" value="" name="P1_A_2_9C_Nivel[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9D_Car_' + i + '" style="margin-left: 10px; margin-right:50px" class="input1" type="text" maxlength="1" value="" name="P1_A_2_9D_Car[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9E_NroAnex_' + i + '" style="margin-left: 10px; margin-right:42px" class="input1 p1cme" type="text" maxlength="1" value="" name="P1_A_2_9E_NroAnex[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9F_CantAnex_' + i + '" style="margin-left: 10px; margin-right:34px" class="input2 anx" type="text" maxlength="2" value="" name="P1_A_2_9F_CantAnex[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9G_T1_Talu_' + i + '" style="margin-left: 10px; margin-right:15px" class="input5" type="text" maxlength="5" value="" name="P1_A_2_9G_T1_Talu[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9H_T1_Taul_' + i + '" style="margin-left: 10px; margin-right:15px" class="input3 cmreto" type="text" maxlength="3" value="" name="P1_A_2_9H_T1_Taul[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9I_T2_Talu_' + i + '" style="margin-left: 10px; margin-right:15px" class="input5" type="text" maxlength="5" value="" name="P1_A_2_9I_T2_Talu[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9J_T2_Taul_' + i + '" style="margin-left: 10px; margin-right:16px" class="input3 cmreto1" type="text" maxlength="3" value="" name="P1_A_2_9J_T2_Taul[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9K_T3_Talu_' + i + '" style="margin-left: 10px; margin-right:15px" class="input5" type="text" maxlength="5" value="" name="P1_A_2_9K_T3_Talu[]"> <div class="help-block error"></div>';
		cm_str += '<input id="P1_A_2_9L_T3_Taul_' + i + '" style="margin-left: 10px; margin-right:0px" class="input3 cmreto2" type="text" maxlength="3" value="" name="P1_A_2_9L_T3_Taul[]"> <div class="help-block error"></div>';
		//cm_str += '<button class="btn btncm btncm_nro' + i + '" type="button">Generar Anexos</button>';
		cm_str += '</div>';
	}
	$('#cod_mod').append(cm_str);

	//Cargar codigos modulares
	var as = 1;
	$.each( re, function(i, data) {						
		$('#P1_A_2_9_NroCMod_' +  as).val(data.P1_A_2_9_NroCMod);
		$('#P1_A_2_9A_CMod_' +  as).val(data.P1_A_2_9A_CMod);
		$('#P1_A_2_9B_CodLocal_' +  as).val(data.P1_A_2_9B_CodLocal);
		$('#P1_A_2_9C_Nivel_' +  as).val(data.P1_A_2_9C_Nivel);
		$('#P1_A_2_9D_Car_' +  as).val(data.P1_A_2_9D_Car);
		$('#P1_A_2_9E_NroAnex_' +  as).val(data.P1_A_2_9E_NroAnex);
		$('#P1_A_2_9F_CantAnex_' +  as).val(data.P1_A_2_9F_CantAnex);
		//data
		$('#P1_A_2_9F_CantAnex_' +  as).attr('data-cm', data.P1_A_2_9_NroCMod);
		
		$('#P1_A_2_9G_T1_Talu_' +  as).val(data.P1_A_2_9G_T1_Talu);
		$('#P1_A_2_9H_T1_Taul_' +  as).val(data.P1_A_2_9H_T1_Taul);
		$('#P1_A_2_9I_T2_Talu_' +  as).val(data.P1_A_2_9I_T2_Talu);
		$('#P1_A_2_9J_T2_Taul_' +  as).val(data.P1_A_2_9J_T2_Taul);
		$('#P1_A_2_9K_T3_Talu_' +  as).val(data.P1_A_2_9K_T3_Talu);
		$('#P1_A_2_9L_T3_Taul_' +  as).val(data.P1_A_2_9L_T3_Taul);
		//Trigger Llenar Anexos
		$('#P1_A_2_9F_CantAnex_' +  as).trigger('change');
		$('#P1_A_2_9E_NroAnex_' + as).trigger('change');

		as++;

	}); 	
	
	//Cargar Cod Mod buttons para Anexos
	////////////////////////////////////////
	btncmod(n);
}







//Generar IE
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//generar ie
$("#addIE").click(function(){

				var tnroies = parseInt($("#P1_A_1_Cant_IE").val());

				if(tnroies !='' && tnroies > 0){
			        var addie_data = {
			            id_local: $("input[name='id_local']").val(),
			            Nro_Pred: $("input[name='Nro_Pred']").val(),
			            user_id: $("input[name='user_id']").val(),
			            P1_A_1_Cant_IE: tnroies,
			            ajax:1
			        };						
				    var baddie = $(this);
				    baddie.attr("disabled", "disabled");
				    $.ajax({
				            url: CI.site_url + "/consistencia/cap1/ies_i",
				            type:'POST',
				            data:addie_data,
				            dataType:'json',
				            success:function(json){
								alert(json.msg);
								$('#P1_A_2_1_NomIE').focus();					
								baddie.removeAttr('disabled');
								btnies(json.nro);	
				            }
				        });  
				 }else{
				 	alert('Ingresar al menos una institución educativa');
				 }  
});


//boton IE NRO
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$(document).on("click",'.ienro',function() {
	myie = $(this);
	nro = myie.text();

	$('.ienro').removeClass("active");
	myie.addClass("active");
	//reset
	$('#cap1_ie')[0].reset();

		var get_ie_data = {
			id_local: $("input[name='id_local']").val(),
			Nro_Pred: $("input[name='Nro_Pred']").val(),
			P1_A_2_NroIE: nro,
			ajax:1
		};		

		$.ajax({
			url: CI.site_url + "/consistencia/cap1/get_ie",
			type:'POST',
			cache:false,
			data:get_ie_data,
			dataType:'json',
			success:function(json){
				$.each( json.ie, function(fila, valor) {
						if(fila == 'P1_A_2_3_DocTip'){
						   	$('#' + fila).val(valor);
						   	$('#' + fila).trigger('change');
						}else{
					  	    $('#' + fila).val(valor);
					  	}
				}); 	
				//cod mod
				gen_cms(json.nro_cms,json.cms);									
			}
		}); 

}); 



//guardar ie
$("#cap1_ie").validate({
		    rules: {     
		    	P1_A_2_1_NomIE:{
		    		// letnum:true,
		    		required:true,
		    	},     		
		    	P1_A_2_2_Direc:{
		    		letnum:true,
		    		required:true,
		    	},	         		         		         		                  	         		         	         	          		                                                                             
				P1_A_2_3_DocTip: {
					valrango: [1,2,9],
					required:true,
			    },  		    
				P1_A_2_3_DocNro: {
		            digits:true,
		            valrango: [1,9999999998,9999999999],
		            maxlength: 10, 
		            required:true,
			    },  
				P1_A_2_4_TelfIE: {
					telef:true,
					// valrango: [1,999999998,999999999],
			        // digits: true,
			    },  		
				P1_A_2_4_TelfDir: {
					telef:true,
					// valrango: [1,999999998,999999999],
			        // digits: true,
			    },  	
				P1_A_2_5_EmailIE: {
			        email: true,
			    },  	
				P1_A_2_5_EmailDir: {
			        email: true,
			    },  			
				P1_A_2_6_Informant:{
					validName:true,
					required:true,
				},
				P1_A_2_7_InformantCarg:{
					letnum:true,
					required:true,
				},
				P1_A_2_8_Can_CMod_IE: {
			        digits: true,
			        required:true,
			    },  			    	    	    
		    },

		    messages: {   
			//FIN MESSAGES
		    },
		    errorPlacement: function(error, element) {
		        $(element).next().after(error);
		    },
		    invalidHandler: function(form, validator) {
		      var errors = validator.numberOfInvalids();
		      if (errors) {
		        var message = errors == 1
		          ? 'Por favor corrige estos errores:\n'
		          : 'Por favor corrige los ' + errors + ' errores.\n';
		        var errors = "";
		        if (validator.errorList.length > 0) {
		            for (x=0;x<validator.errorList.length;x++) {
		                errors += "\n\u25CF " + validator.errorList[x].message;
		            }
		        }
		        alert(message + errors);
		      }
		      validator.focusInvalid();
		    },
		    submitHandler: function(form) {

				var cap1_ie_data = $("#cap1_ie").serializeArray();
				cap1_ie_data.push(
					    {name: 'ajax',value:1},
					    {name: 'id_local',value:$("input[name='id_local']").val()},      
					    {name: 'Nro_Pred',value:$("input[name='Nro_Pred']").val()},    
					    {name: 'user_id',value:$("input[name='user_id']").val()}    
				);
						
				var bcar = $( "#cap1_ie :submit" );
				    bcar.attr("disabled", "disabled");
				    $.ajax({
				            url: CI.site_url + "/consistencia/cap1/ies",
				            type:'POST',
				            cache:false,
				            data:cap1_ie_data,
				            dataType:'json',
				            success:function(json){
								alert(json.msg);
								bcar.removeAttr('disabled');
								gen_cms(json.nro_cms,json.cms);		
								var rec = parseInt($('#P1_A_2_NroIE').val())+1;

								if(parseInt($('#P1_A_2_8_Can_CMod_IE').val()) > 0 ){
									$('#P1_A_2_9_NroCMod_1').focus();
								}else{
									if( rec > parseInt($('#P1_A_1_Cant_IE').val()) ){
										$('#P1_B_1_TPred').focus();
									}else{
										$( "#gies .ienro:nth-child(" + rec + ")" ).trigger('click');
										$('#P1_A_2_1_NomIE').focus();
									}
								}				
				            }
				    });  
			}
});  



$.validator.addClassRules('P1_A_2_9_AnexNro', {
  requeridodis: true,
});
$.validator.addClassRules('P1_A_2_9G_T1_Talu', {
  requeridodis: true,
});
$.validator.addClassRules('P1_A_2_9H_T1_Taul', {
  requeridodis: true,
});
$.validator.addClassRules('P1_A_2_9I_T2_Talu', {
  // requeridodis: true,
});
$.validator.addClassRules('P1_A_2_9J_T2_Taul', {
  // requeridodis: true,
});
$.validator.addClassRules('P1_A_2_9K_T3_Talu', {
  // requeridodis: true,
});
$.validator.addClassRules('P1_A_2_9L_T3_Taul', {
  // requeridodis: true,
});

$.validator.addClassRules('cmreto', {
  menorque: ['P1_A_2_9G_T1_Talu_'],
});
$.validator.addClassRules('cmreto1', {
  menorque: ['P1_A_2_9I_T2_Talu_'],
});
$.validator.addClassRules('cmreto2', {
  menorque: ['P1_A_2_9K_T3_Talu_'],
});
//cm update
$("#cap1_cm").validate({
		    rules: {           			         		         		         		                  	         		         	         	          		                                                                             
				'P1_A_2_9A_CMod[]': {
			        valrango:[1,9999998,9999999],
			        requeridodis:true,
			    },  
				'P1_A_2_9B_CodLocal[]': {
			        valrango:[1,999998,999999],
			        requeridodis:true,
			    },  	
				'P1_A_2_9C_Nivel[]': {
			         valrango:[1,11,99],
			        requeridodis:true,
			    },  	
				'P1_A_2_9D_Car[]': {
					valrango:[1,3,9],
			        requeridodis:true,
			    },  			    		    		    
				'P1_A_2_9E_NroAnex[]': {
					valrango:[0,3,9],
			        requeridodis:true,
			    },  						    
				'P1_A_2_9F_CantAnex[]': {
			        requeridodis:true,
			    },  							    
				'P1_A_2_9G_T1_Talu[]': {
			        valrango:[0,9998,9999],
			        requeridodis:true,
			    },  							    
				'P1_A_2_9H_T1_Taul[]': {
			         valrango:[0,998,999],
			        requeridodis:true,
			    },  							    
				'P1_A_2_9I_T2_Talu[]': {
			        valrango:[0,9998,9999],
			        // requeridodis:true,
			    },  							    
				'P1_A_2_9J_T2_Taul[]': {
			        valrango:[0,998,999],
			        // requeridodis:true,
			    },  							    
				'P1_A_2_9K_T3_Talu[]': {
			        valrango:[0,9998,9999],
			        // requeridodis:true,
			    },  							    
				'P1_A_2_9L_T3_Taul[]': {
			        valrango:[0,998,999],
			        // requeridodis:true,
			    },  							    
		    },

		    messages: {   
			//FIN MESSAGES
		    },
		    errorPlacement: function(error, element) {
		        $(element).next().after(error);
		    },
		    invalidHandler: function(form, validator) {
		      var errors = validator.numberOfInvalids();
		      if (errors) {
		        var message = errors == 1
		          ? 'Por favor corrige estos errores:\n'
		          : 'Por favor corrige los ' + errors + ' errores.\n';
		        var errors = "";
		        if (validator.errorList.length > 0) {
		            for (x=0;x<validator.errorList.length;x++) {
		                errors += "\n\u25CF " + validator.errorList[x].message;
		            }
		        }
		        alert(message + errors);
		      }
		      validator.focusInvalid();
		    },
		    submitHandler: function(form) {

				var cap1_cm_data = $("#cap1_cm").serializeArray();
				cap1_cm_data.push(
					    {name: 'ajax',value:1},
					    {name: 'id_local',value:$("input[name='id_local']").val()},      
					    {name: 'Nro_Pred',value:$("input[name='Nro_Pred']").val()},   
					    {name: 'user_id',value:$("input[name='user_id']").val()},   
					    {name: 'P1_A_2_NroIE',value:$("#P1_A_2_NroIE").val()}    
				);
						
				var bcar = $( "#cap1_cm :submit" );
					bcar.attr("disabled", "disabled");
				    $.ajax({
				            url: CI.site_url + "/consistencia/cap1/cm",
				            type:'POST',
				            cache:false,
				            data:cap1_cm_data,
				            dataType:'json',
				            success:function(json){
								alert(json.msg);
								bcar.removeAttr('disabled');
								btncmod(json.nrocms);
								var rec = parseInt($('#P1_A_2_NroIE').val())+1;
								if( rec > parseInt($('#P1_A_1_Cant_IE').val()) ){
									$('#P1_B_1_TPred').focus();
								}else{
									$( "#gies .ienro:nth-child(" + rec + ")" ).trigger('click');
									$('#P1_A_2_1_NomIE').focus();
								}
								// gen_cms(json.nro_cms,json.cms);						
				            }
				    });  
			}
}); 


$('#P1_C_8_InmTip').change(function(event) {
	if( $(this).val() == '' ){
		$('#P1_C_8_InmCod').removeAttr('disabled');
	}else if( $(this).val() == 1 || $(this).val() == 2 ){
		$('#P1_C_8_InmCod').val('');
		$('#P1_C_8_InmCod').attr('disabled','disabled');			
	}
});

$('#P1_C_8_InmCod').change(function(event) {
	if( $(this).val() == '' ){
		$('#P1_C_8_InmTip').removeAttr('disabled');
	}else if( $(this).length > 0 ){
		$('#P1_C_8_InmTip').val('');
		$('#P1_C_8_InmTip').attr('disabled','disabled');			
	}
});

$('#P1_C_9_Prop').change(function(event) {
	if( $(this).val() == 4 || $(this).val() == 5 ){
		$('#P1_C_9_Prop_O').removeAttr('disabled');
	}else if( $(this).val() < 4 ){
		$('#P1_C_9_Prop_O').val('');
		$('#P1_C_9_Prop_O').attr('disabled','disabled');			
	}
});


//ax update
$("#cap1_ax").validate({
		    rules: {  

				P1_C_1_CodLoc_Anex: {
					required: true,	
			        valrango:[1,999998,999999],
			    }, 	
			    P1_C_4_CCPP:{
			    	validName:true,
					required:true,
			    },
			    P1_C_5_NucleoUrb:{
			    	validName:true,
					required:true,
			    },
				P1_C_6Dir_1_Tvia: {
			        valrango:[1,7,9],
			    },
			    P1_C_6Dir_2_Nomb:{
			    	required:true,
			    },
			    P1_C_6Dir_3_Nro:{
			    	required:true,
			    },
			    P1_C_6Dir_4_Piso:{
			    	range:[1,20],
			    	required:true,
			    },
			    P1_C_7_RefDir:{
			    	required:true,
			    },
				P1_C_8_InmTip: {
			        valrango:[1,2,9],
			        required:true,
			    }, 
			    P1_C_8_InmCod: {
			    	number:true,
			        required:true,
			    }, 
				P1_C_9_Prop: {
					required:true,
			        valrango:[1,5,9],
			    },
			    P1_C_9_Prop_O: {
					required:true,
			    },
				P1_C_10_AntReg_Cod: {
					required:true,
			        valrango:[1,5,9],
			    },
			    P1_C_11_AntReg_Nro: {
					required:true,
			    },
				P1_C_12_Tipo_TProp: {
					required:true,
			        valrango:[1,10,99],
			    },
			    P1_C_12_Tipo_TProp_O: {
					required:true,
			    },
			    P1_C_13_FecTit: {
			    	peruDate:true,
			    },
				P1_C_14_DocPos: {
					required:true,
			        valrango:[1,10,99],
			    },
			    P1_C_14_DocPos_O: {
					required:true,
			    },
			    P1_C_15_DocPos_Fech: {
					peruDate:true,
			    },


				P1_C_16_At_Pred: {
			        requeridodis:true,
			    }, 					       
				P1_C_17_At_Local: {
			        requeridodis:true,
			        minor:['P1_C_16_At_Pred','16']
			    }, 		
				P1_C_18_Comp: {
					required:true,
			        valrango:[1,2,9],
			    }, 			
				P1_C_19_CompCan: {
					required:true,
			        valrango:[1,98,99],
			    },
			    'P1_C_20_NombComp[]':{
			    	required:true,
			    }
			},

		    messages: {   
			//FIN MESSAGES
		    },
		    errorPlacement: function(error, element) {
		        $(element).next().after(error);
		    },
		    invalidHandler: function(form, validator) {
		      var errors = validator.numberOfInvalids();
		      if (errors) {
		        var message = errors == 1
		          ? 'Por favor corrige estos errores:\n'
		          : 'Por favor corrige los ' + errors + ' errores.\n';
		        var errors = "";
		        if (validator.errorList.length > 0) {
		            for (x=0;x<validator.errorList.length;x++) {
		                errors += "\n\u25CF " + validator.errorList[x].message;
		            }
		        }
		        alert(message + errors);
		      }
		      validator.focusInvalid();
		    },
		    submitHandler: function(form) {

				var cap1_cm_data = $("#cap1_ax").serializeArray();
				cap1_cm_data.push(
					    {name: 'ajax',value:1},
					    {name: 'id_local',value:$("input[name='id_local']").val()},      
					    {name: 'Nro_Pred',value:$("input[name='Nro_Pred']").val()},   
					    {name: 'user_id',value:$("input[name='user_id']").val()},   
					    {name: 'P1_A_2_NroIE',value:$("#P1_A_2_NroIE").val()}
				);
						
				var bcar = $( "#cap1_ax :submit" );
				    bcar.attr("disabled", "disabled");
				    $.ajax({
				            url: CI.site_url + "/consistencia/cap1/ax",
				            type:'POST',
				            cache:false,
				            data:cap1_cm_data,
				            dataType:'json',
				            success:function(json){
								alert(json.msg);
								bcar.removeAttr('disabled');
								// gen_cms(json.nro_cms,json.cms);						
				            }
				    });  
			}
});  

//PREDIO N
$("#P1_B_3_11_CompCan").keyup(function(event) {

if($(this).val() != '99'){
		$("#pred_n").empty();
		for(var i=1; i<=$(this).val(); i++){
			$("#pred_n").append('<li><input type="text" maxlength="2" class="input2" readonly id="P1_B_3_12_Nro_' + i + '" value="' + i + '" name="P1_B_3_12_Nro[]"><input type="text" id="P1_B_3_12_NombComp_' + i + '" value="" name="P1_B_3_12_NombComp[]"><div class="help-block error"></div></li>')
		}


		//Llenar Anexos x Cod Mod
		var prc_data = {
			id_local: $("input[name='id_local']").val(),
			Nro_Pred: $("input[name='Nro_Pred']").val(),
			ajax:1
		};						

		$.ajax({
			url: CI.site_url + "/consistencia/consistencia/get_predio_c",
			type:'POST',
			data:prc_data,
			dataType:'json',
			success:function(json){
				var as = 1;
				$.each( json.prc, function(i, data) {
					$('#P1_B_3_12_Nro_' +  as).val(data.P1_B_3_12_Nro);
					$('#P1_B_3_12_NombComp_' +  as).val(data.P1_B_3_12_NombComp);			
					as++;							
				}); 	
			}
		});  
}
});


//PREDIO
$("#predio_i").validate({
		    rules: {           			         		         		         		                  	         		         	         	          		                                                                             
				P1_B_1_TPred: {
					required:true,
			        range:[1,99],
			    }, 
				P1_B_2_PredCol: {
					required:true,
			        valrango:[1,2,9],
			    }, 		
				P1_B_3_InmCod: {
			        digits: true,
			    }, 				
			    P1_B_3_1_Prop_O:{
			    	requeridodis:true,
			    },
				P1_B_3_InmTip: {
					required:true,
			        valrango:[1,2,9],
			    }, 		
				P1_B_3_1_Prop: {
			        digits: true,
			        valrango:[1,5,9],
			        required:true,
			    }, 		
				P1_B_3_2_AntReg_Cod: {
			        digits: true,
			        valrango:[1,5,9],
			        required:true,
			    }, 				    		    			    	    
				P1_B_3_3_AntReg_Nro: {
			        required:true,
			    }, 	
			    // P1_B_3_7_DocPos_Fech:{
			    // 	requeridodis:true,
			    // },
				P1_B_3_4_Tipo_TProp: {
			        digits: true,
			        valrango:[1,10,99],
			        requeridodis:true,
			    }, 	
			    P1_B_3_4_Tipo_TProp_O:{
			        requeridodis:true,
			    },
				P1_B_3_6_DocPos: {
			        digits: true,
			        valrango:[1,10,99],
			        requeridodis:true,
			    }, 		
				P1_B_3_6_DocPos_O: {
			        requeridodis:true,
			    }, 			    
				P1_B_3_8_At_Pred: {
			        number: true,
			        requeridodis:true,
			    }, 			
				P1_B_3_9_At_Local: {
			        number: true,
			        minor:['P1_B_3_8_At_Pred','3.8'],
			        requeridodis:true,
			    }, 		
				P1_B_3_10_Comp: {
			        required: true,
			        valrango:[1,2,9],
			    }, 		
				P1_B_3_11_CompCan: {
			        required: true,
			        valrango:[0,98,99],
			    }, 		
			    'P1_B_3_12_NombComp[]':{
			    	required:true,
			    },		

			    P1_B_3_5_FecTit:{
			    	peruDate:true,
			    },    	
			    P1_B_3_7_DocPos_Fech:{
			    	peruDate:true,
			    }  			    	    			    	    	    	    			    
		    },

		    messages: {   
			//FIN MESSAGES
		    },
		    errorPlacement: function(error, element) {
		        $(element).next().after(error);
		    },
		    invalidHandler: function(form, validator) {
		      var errors = validator.numberOfInvalids();
		      if (errors) {
		        var message = errors == 1
		          ? 'Por favor corrige estos errores:\n'
		          : 'Por favor corrige los ' + errors + ' errores.\n';
		        var errors = "";
		        if (validator.errorList.length > 0) {
		            for (x=0;x<validator.errorList.length;x++) {
		                errors += "\n\u25CF " + validator.errorList[x].message;
		            }
		        }
		        alert(message + errors);
		      }
		      validator.focusInvalid();
		    },
		    submitHandler: function(form) {

				var cap1_pri_data = $("#predio_i").serializeArray();
				cap1_pri_data.push(
					    {name: 'ajax',value:1},
					    {name: 'id_local',value:$("input[name='id_local']").val()},      
					    {name: 'Nro_Pred',value:$("input[name='Nro_Pred']").val()},
					    {name: 'user_id',value:$("input[name='user_id']").val()}
				);
						
				var bcar = $( "#predio_i :submit" );
				    bcar.attr("disabled", "disabled");
				    $.ajax({
				            url: CI.site_url + "/consistencia/consistencia/predio",
				            type:'POST',
				            cache:false,
				            data:cap1_pri_data,
				            dataType:'json',
				            success:function(json){
								alert(json.msg);
								bcar.removeAttr('disabled');
								if (json.flag == 1){
									if (confirm('Desea avanzar al Capítulo 2?')){
										$('#ctab1').removeClass('active');
										$('#ctab2 a').trigger('click');
										window.scrollTo(0, 0);
									}			
								}
								// gen_cms(json.nro_cms,json.cms);						
				            }
				    });  
			}
});  




/////////////////////////////////////////////////////////////////////////////////////////////
//inicio
$.each( <?php echo json_encode($cap1_p1_a->row()); ?>, function(fila, valor) {
	   	$('#' + fila).val(valor);
}); 

//tabla count
$.each( <?php echo json_encode($cap1_p1_b->row()); ?>, function(fila, valor) {
	   	$('#' + fila).val(valor);
}); 


$.each( <?php echo json_encode($predio->row()); ?>, function(fila, valor) {
		if(fila == 'P1_B_1_TPred' || fila=='P1_B_3_InmCod' || fila == 'P1_B_3_1_Prop' || fila == 'P1_B_3_2_AntReg_Cod' || fila == 'P1_B_3_4_Tipo_TProp' ||  fila == 'P1_B_3_3_AntReg_Nro'  || fila == 'P1_B_3_6_DocPos' || fila == 'P1_B_3_10_Comp'){
	   		$('#' + fila).val(valor);
	   		$('#' + fila).trigger('change');
		}else if(fila == 'P1_B_3_7_DocPos_Fech' || fila == 'P1_B_3_5_FecTit'){
			$('#' + fila).val(makeday(valor));	
			$('#' + fila).trigger('change');
		}else if(fila == 'P1_B_3_11_CompCan'){
			$('#' + fila).val(valor);	
			$('#' + fila).trigger('keyup');		
		}else{
	   		$('#' + fila).val(valor);
		}
}); 

//ies
btnies(<?php echo $cap1_p1_a_2n->num_rows(); ?>);

// $('.fechap').datepicker({ dateFormat: 'yy-mm-dd' });

}); 
</script>